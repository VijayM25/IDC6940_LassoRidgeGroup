---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Cmd+Shift+Enter*. 

```{r}
library(data.table)
library(ISLR2)
library(glmnet)
library(dplyr)
library(tidyr)
```

```{r}
#datar <- fread("/Users/vmohanam/Downloads/data/Selected_var_formated.csv")

data = na.omit(fread("/Users/vmohanam/Downloads/data/Selected_var_formated.csv"))
#str(data)
x = model.matrix(tv_radiation~., data)[,-2] 
y = data %>%
  select(tv_radiation) %>%
  unlist() %>%
  as.numeric()
#hist(data$tv_radiation)
hist(data$tc_combined_stage)
```
```{r}
fit <- glmnet(x,y, family="binomial")
plot(fit)
```

```{r}
grid = 10^seq(10, -2, length = 100)
lasso_mod = glmnet(x, y, alpha = 1, lambda = grid)
plot(lasso_mod)
```

```{r}
set.seed(1)
cv.out = cv.glmnet(x, y, alpha = 1) # Fit lasso model on training data #
plot(cv.out) # Draw plot of training MSE as a function of lambda
bestlam = cv.out$lambda.min # Select lamda that minimizes training MSE
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file). 

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

